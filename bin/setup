#!/bin/bash
# This script runs the same sequence as the CircleCI build
# Run this as:
# bin/setup

# Fail on the first error; killable by SIGINT
set -e
trap "exit" INT


echo "
================================================

Welcome to the OpenAI Lab setup script;
please run this as sudo,
or inspect bin/setup_ubuntu or bin/setup_macOS and run the lines manually.

================================================
"


# copy keys file if not already exist
BIN_DIR=`pwd`/bin
$BIN_DIR/copy-config


# determine if is Mac OSX, or Linux; then run accordingly
if [ $(uname) == "Darwin" ];
# Mac runs below
then (
  $BIN_DIR/setup_macOS;
  );
else (
  $BIN_DIR/setup_ubuntu;
  );
fi
